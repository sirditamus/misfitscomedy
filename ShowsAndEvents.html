<!DOCTYPE html>
<html  >
<>
 
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v6.1.4, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/photo-1571266063066-15577f80abdb.jpeg" type="image/x-icon">
  <meta name="description" content="Upcoming shows and events">
  
  
  <title>Shows and Events</title>
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons2/mobirise2.css">
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons-bold/mobirise-icons-bold.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto+Flex:wght@400;700&display=swap&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Flex:wght@400;700&display=swap&display=swap"></noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css?v=wutVlF"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css?v=wutVlF" type="text/css">

    
    <style>
    body {
        background-color: #000000;
        color: white; /* This makes text white so it shows on black background */
    }
    </style>

    <!-- ADD THE NEW CSS HERE, AFTER YOUR EXISTING STYLE BLOCK -->
    <style>
    html {
        background-color: #000000 !important;
    }

    body {
        background-color: #000000 !important;
        color: white !important;
    }

    /* Target common wrapper classes that might have white backgrounds */
    .page, .wrapper, .container, .main, .content, #page, #wrapper, #container, #main {
        background-color: #000000 !important;
    }
    </style>


</head>
<body>
  
  <section data-bs-version="5.1" class="menu menu2 cid-uXsOfwmSm8" once="menu" id="menu02-0">
	

	<nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
		<div class="container">
			<div class="navbar-brand">
				<span class="navbar-logo">
					<a href="index.html">
						<img src="assets/images/photo-1571266063066-15577f80abdb.jpeg" alt="Mobirise Website Builder" style="height: 5rem;">
					</a>
				</span>
				
			</div>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
				<div class="hamburger">
					<span></span>
					<span></span>
					<span></span>
					<span></span>
				</div>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav nav-dropdown" data-app-modern-menu="true"><li class="nav-item dropdown">
						<a class="nav-link link text-white text-primary dropdown-toggle display-4" href="page1.html#features013-k" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Events</a><div class="dropdown-menu" aria-labelledby="dropdown-958"><a class="text-white text-primary dropdown-item display-4" href="ShowsAndEvents.html#features013-k">Upcoming Shows and Events</a><a class="text-white text-primary show dropdown-item display-4" href="calendar.html">Calendar</a></div>
					</li><li class="nav-item"><a class="nav-link link text-white text-primary display-4" href="comedians.html#clients01-e">Comedians</a></li><li class="nav-item"><a class="nav-link link text-white text-primary display-4" href="privateevents.html#article02-t">Private Events</a></li><li class="nav-item"><a class="nav-link link text-white show display-4" href="https://www.punnypotato.org" aria-expanded="false">Punny Potato Project</a></li>
					
					<li class="nav-item dropdown">
						<a class="nav-link link text-white dropdown-toggle show display-4" href="page4.html" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Contact</a><div class="dropdown-menu show" aria-labelledby="dropdown-197" data-bs-popper="none"><a class="text-white dropdown-item text-primary display-4" href="booking.html#form02-10">Get Booked at Mistfits</a><a class="text-white dropdown-item text-primary display-4" href="privateevents.html#form02-s">Private Event Inquiry</a><a class="text-white dropdown-item text-primary display-4" href="contacttheclub.html#form02-p">Contact the Club</a><a class="text-white show dropdown-item display-4" href="clubdirectory.html">Club Directory</a></div>
					</li></ul>
				<div class="icons-menu">
					<a class="iconfont-wrapper" href="https://mobiri.se">
						<span class="p-2 mbr-iconfont mobi-mbri-phone mobi-mbri"></span>
					</a>
					<a class="iconfont-wrapper" href="sms:+1-208-3405488">
						<span class="p-2 mbr-iconfont mbrib-mobile"></span>
					</a>
					<a class="iconfont-wrapper" href="mailto:info@misfitscomedy.com">
						<span class="p-2 mbr-iconfont socicon-mail socicon"></span>
					</a>
					<a class="iconfont-wrapper" href="https://maps.app.goo.gl/SpvaT9AsD941HSc97" target="_blank">
						<span class="p-2 mbr-iconfont mobi-mbri-map-pin mobi-mbri"></span>
					</a>
				</div>
				<div class="navbar-buttons mbr-section-btn"><a class="btn btn-primary display-4" href="https://mobiri.se">Tickets</a></div>
			</div>
		</div>
	</nav>
</section>

<section>
<!-- Featured Comics and Events Widget -->
<div id="featured-events-widget" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
    <style>
        #featured-events-widget {
            background: #000000;
            color: white;
            padding: 40px;
            padding-top: 120px;
            border-radius: 0;
            overflow: hidden;
            position: relative;
            margin: 0;
            width: 100%;
            max-width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        #featured-events-widget * {
            box-sizing: border-box;
        }

        .few-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .few-header h2 {
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 8s ease-in-out infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .few-header p {
            font-size: 1.2rem;
            opacity: 0.8;
            margin: 0;
        }

        .few-scroll-container {
            position: relative;
            height: 480px;
            overflow: hidden;
            margin-bottom: 20px;
            mask-image: linear-gradient(
                to right,
                transparent 0%,
                black 5%,
                black 95%,
                transparent 100%
            );
            -webkit-mask-image: linear-gradient(
                to right,
                transparent 0%,
                black 5%,
                black 95%,
                transparent 100%
            );
        }

        .few-scroll-track {
            display: flex;
            gap: 30px;
            animation: scroll 40s linear infinite;
            width: max-content;
        }

        .few-scroll-track:hover {
            animation-play-state: paused;
        }

        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .few-event-card {
            min-width: 350px;
            max-width: 350px;
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
        }

        .few-event-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 16px 48px rgba(0,0,0,0.6);
            border-color: rgba(255,255,255,0.2);
        }

        .few-event-card.featured {
            border: 2px solid #ff6b6b;
            box-shadow: 0 8px 32px rgba(255, 107, 107, 0.3);
        }

        .few-event-card.featured:hover {
            box-shadow: 0 16px 48px rgba(255, 107, 107, 0.5);
        }

        .few-featured-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 2;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .few-event-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .few-event-card:hover .few-event-image {
            transform: scale(1.05);
        }

        .few-event-content {
            padding: 25px;
        }

        .few-event-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: white;
            margin-bottom: 12px;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .few-event-meta {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 20px;
        }

        .few-event-date {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            letter-spacing: 0.5px;
        }

        .few-event-times {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .few-time-block {
            flex: 1;
            background: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .few-time-label {
            font-size: 11px;
            color: rgba(255,255,255,0.6);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .few-time-value {
            font-size: 14px;
            font-weight: 600;
            color: #4ecdc4;
        }

        .few-ticket-button {
            width: 100%;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .few-ticket-button:hover {
            background: linear-gradient(135deg, #ee5a24, #d63031);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            color: white;
        }

        .few-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        .few-control-btn {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .few-control-btn:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.4);
            transform: translateY(-2px);
        }

        .few-loading {
            text-align: center;
            padding: 60px;
            color: rgba(255,255,255,0.6);
        }

        .few-loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top: 2px solid rgba(255,255,255,0.8);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .few-empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255,255,255,0.6);
        }

        .few-empty-state h3 {
            color: white;
            margin-bottom: 10px;
            font-size: 1.5rem;
        }

        @media (max-width: 768px) {
            #featured-events-widget {
                padding: 25px;
            }

            .few-header h2 {
                font-size: 2.2rem;
            }

            .few-scroll-container {
                height: 350px;
            }

            .few-event-card {
                min-width: 300px;
                max-width: 300px;
            }

            .few-event-content {
                padding: 20px;
            }

            .few-controls {
                flex-wrap: wrap;
                gap: 10px;
            }

            .few-control-btn {
                padding: 10px 16px;
                font-size: 13px;
            }
        }
    </style>

    <div class="few-header">
        <h2>Featured Comics & Events</h2>
        <p>Don't miss these incredible upcoming shows</p>
    </div>

    <div class="few-scroll-container">
        <div class="few-scroll-track" id="few-scroll-track">
            <div class="few-loading">Loading featured events...</div>
        </div>
    </div>
</div>

<script>
(function() {
    // Featured Events Widget namespace
    const FEW = {
        eventsData: [],
        featuredEvents: [],
        nextWeekEvents: [],
        isPaused: false,

        init: function() {
            this.loadEventsData();
            this.renderEvents();
            this.startAutoRefresh();
        },

        loadEventsData: function() {
            const stored = localStorage.getItem('eventsData');
            if (stored) {
                try {
                    this.eventsData = JSON.parse(stored);
                    this.processFeaturedEvents();
                } catch (error) {
                    console.error('Error loading events:', error);
                    this.eventsData = [];
                }
            } else {
                this.eventsData = [];
            }
            
            // Listen for storage changes
            window.addEventListener('storage', (e) => {
                if (e.key === 'eventsData') {
                    this.loadEventsData();
                    this.renderEvents();
                }
            });
        },

        processFeaturedEvents: function() {
            const now = new Date();
            const nextWeek = new Date(now.getTime() + (7 * 24 * 60 * 60 * 1000));

            // Get featured events (regardless of date)
            this.featuredEvents = this.eventsData.filter(event => 
                event.featured === true || event.featured === 'true'
            );

            // Get next week's events that are NOT featured
            this.nextWeekEvents = this.eventsData.filter(event => {
                const eventDate = new Date(event.date);
                const isInNextWeek = eventDate >= now && eventDate <= nextWeek;
                const isFeatured = event.featured === true || event.featured === 'true';
                return isInNextWeek && !isFeatured;
            });

            // Sort both arrays by date
            this.featuredEvents.sort((a, b) => new Date(a.date) - new Date(b.date));
            this.nextWeekEvents.sort((a, b) => new Date(a.date) - new Date(b.date));
        },

        renderEvents: function() {
            const container = document.getElementById('few-scroll-track');
            
            // Combine featured and next week events (no duplicates)
            const allEvents = [...this.featuredEvents, ...this.nextWeekEvents];
            
            if (allEvents.length === 0) {
                container.innerHTML = `
                    <div class="few-empty-state">
                        <h3>No Featured Events</h3>
                        <p>Featured events and upcoming shows will appear here</p>
                    </div>
                `;
                return;
            }

            // Create event cards and duplicate until we have at least 10 events
            let eventCards = allEvents.map(event => this.createEventCard(event));
            
            // Duplicate events until we have at least 10
            while (eventCards.length < 10) {
                eventCards = eventCards.concat(allEvents.map(event => this.createEventCard(event)));
            }
            
            container.innerHTML = eventCards.join('');
        },

        createEventCard: function(event) {
            const eventDate = new Date(event.date);
            const formattedDate = eventDate.toLocaleDateString('en-US', { 
                weekday: 'long',
                month: 'short', 
                day: 'numeric',
                year: 'numeric'
            });

            const isFeatured = event.featured === true || event.featured === 'true';
            const doorsTime = event.doorsOpen ? this.formatTime(event.doorsOpen) : 'TBA';
            const showTime = event.eventStart ? this.formatTime(event.eventStart) : 'TBA';

            return `
                <div class="few-event-card ${isFeatured ? 'featured' : ''}">
                    ${isFeatured ? '<div class="few-featured-badge">Featured</div>' : ''}
                    <img src="${event.image}" alt="${event.title}" class="few-event-image" 
                         onerror="this.src='https://via.placeholder.com/350x200?text=Event+Image'">
                    <div class="few-event-content">
                        <h3 class="few-event-title">${event.title}</h3>
                        <div class="few-event-meta">
                            <div class="few-event-date">${formattedDate}</div>
                            <div class="few-event-times">
                                <div class="few-time-block">
                                    <div class="few-time-label">Doors</div>
                                    <div class="few-time-value">${doorsTime}</div>
                                </div>
                                <div class="few-time-block">
                                    <div class="few-time-label">Show</div>
                                    <div class="few-time-value">${showTime}</div>
                                </div>
                            </div>
                        </div>
                        <a href="${event.ticketUrl || '#'}" target="_blank" class="few-ticket-button">
                            Get Tickets
                        </a>
                    </div>
                </div>
            `;
        },

        formatTime: function(time24) {
            if (!time24) return 'TBA';
            try {
                const [hours, minutes] = time24.split(':');
                const hour12 = ((parseInt(hours) + 11) % 12 + 1);
                const ampm = parseInt(hours) >= 12 ? 'PM' : 'AM';
                return `${hour12}:${minutes} ${ampm}`;
            } catch {
                return time24;
            }
        },

        refreshEvents: function() {
            this.loadEventsData();
            this.renderEvents();
        },

        startAutoRefresh: function() {
            // Refresh every 2 minutes
            setInterval(() => {
                this.loadEventsData();
                this.renderEvents();
            }, 120000);

            // Refresh when page becomes visible
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden) {
                    this.refreshEvents();
                }
            });
        }
    };

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => FEW.init());
    } else {
        FEW.init();
    }

    // Make FEW globally available
    window.FEW = FEW;
})();
</script>
</section>
<section>
  <!-- Upcoming Events List Widget -->
<div id="upcoming-events-list-widget" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
    <style>
        #upcoming-events-list-widget {
            background: #000000;
            color: white;
            padding: 40px;
            padding-top: 0px;
            border-radius: 0;
            overflow: visible;
            position: relative;
            margin: 0;
            width: 100%;
            max-width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            min-height: auto;
            height: auto;
        }

        #upcoming-events-list-widget * {
            box-sizing: border-box;
        }

        .uel-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .uel-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .uel-header p {
            font-size: 1.1rem;
            opacity: 0.8;
            margin: 0;
            color: rgba(255,255,255,0.8);
        }

        .uel-events-container {
            max-width: 900px;
            margin: 0 auto;
            overflow: visible;
            min-height: auto;
            height: auto;
        }

        .uel-event-item {
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .uel-event-item:hover {
            transform: translateY(-2px);
            border-color: rgba(255,255,255,0.2);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .uel-event-item.today {
            border-color: #ff6b6b;
            box-shadow: 0 4px 20px rgba(255, 107, 107, 0.2);
        }

        .uel-event-item.featured {
            border-color: #4ecdc4;
            box-shadow: 0 4px 20px rgba(78, 205, 196, 0.2);
        }

        .uel-today-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .uel-upcoming-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .uel-event-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            gap: 20px;
        }

        .uel-event-info {
            flex: 1;
        }

        .uel-event-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: white;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .uel-event-date-time {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .uel-event-date {
            font-size: 1.1rem;
            font-weight: 600;
            color: #4ecdc4;
        }

        .uel-event-times {
            display: flex;
            gap: 15px;
            font-size: 14px;
            color: rgba(255,255,255,0.7);
        }

        .uel-time-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .uel-time-label {
            color: rgba(255,255,255,0.5);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .uel-time-value {
            color: white;
            font-weight: 600;
        }

        .uel-event-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        .uel-event-meta {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .uel-event-description {
            color: rgba(255,255,255,0.8);
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .uel-event-location {
            color: rgba(255,255,255,0.6);
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .uel-ticket-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }

        .uel-ticket-button:hover {
            background: linear-gradient(135deg, #5a6fd8, #6a5687);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
            color: white;
        }

        .uel-empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255,255,255,0.6);
        }

        .uel-empty-state h3 {
            color: white;
            margin-bottom: 10px;
            font-size: 1.5rem;
        }

        .uel-loading {
            text-align: center;
            padding: 40px;
            color: rgba(255,255,255,0.6);
        }

        .uel-loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top: 2px solid rgba(255,255,255,0.8);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .uel-week-summary {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .uel-summary-text {
            color: rgba(255,255,255,0.8);
            font-size: 16px;
        }

        .uel-summary-count {
            color: #4ecdc4;
            font-weight: 700;
            font-size: 1.2rem;
        }

        @media (max-width: 768px) {
            #upcoming-events-list-widget {
                padding: 25px;
            }

            .uel-header h2 {
                font-size: 2rem;
            }

            .uel-event-item {
                padding: 20px;
            }

            .uel-event-header {
                flex-direction: column;
                gap: 15px;
            }

            .uel-event-details {
                flex-direction: column;
                align-items: stretch;
                gap: 15px;
            }

            .uel-ticket-button {
                text-align: center;
            }

            .uel-event-times {
                flex-direction: column;
                gap: 8px;
            }

            .uel-today-badge,
            .uel-featured-badge {
                position: static;
                display: inline-block;
                margin-bottom: 10px;
            }
        }
    </style>

    <div class="uel-header">
        <h2>This Weeks Events</h2>
        <p>Don't miss these events and shows</p>
    </div>

    <div class="uel-events-container">
        <div class="uel-week-summary" id="uel-week-summary" style="display: none;">
            <div class="uel-summary-text">
                <span class="uel-summary-count" id="uel-event-count">0</span> featured events
                <span id="uel-upcoming-note" style="display: none; color: rgba(255,255,255,0.6); font-size: 14px; margin-left: 10px;">
                    (+ upcoming events to reach 10)
                </span>
            </div>
        </div>

        <div id="uel-events-list">
            <div class="uel-loading">Loading upcoming events...</div>
        </div>
    </div>
</div>

<script>
(function() {
    // Upcoming Events List namespace
    const UEL = {
        eventsData: [],
        upcomingEvents: [],

        init: function() {
            this.loadEventsData();
            this.renderEvents();
            this.startAutoRefresh();
        },

        loadEventsData: function() {
            const stored = localStorage.getItem('eventsData');
            if (stored) {
                try {
                    this.eventsData = JSON.parse(stored);
                    this.processUpcomingEvents();
                } catch (error) {
                    console.error('Error loading events:', error);
                    this.eventsData = [];
                }
            } else {
                this.eventsData = [];
            }
            
            // Listen for storage changes
            window.addEventListener('storage', (e) => {
                if (e.key === 'eventsData') {
                    this.loadEventsData();
                    this.renderEvents();
                }
            });
        },

        processUpcomingEvents: function() {
            const now = new Date();
            const nextWeek = new Date(now.getTime() + (7 * 24 * 60 * 60 * 1000));

            // Get all featured events (regardless of date)
            const featuredEvents = this.eventsData.filter(event => 
                event.featured === true || event.featured === 'true'
            );

            // Get upcoming events for the next week that are NOT featured
            const upcomingEvents = this.eventsData.filter(event => {
                const eventDate = new Date(event.date);
                const isInNextWeek = eventDate >= now && eventDate <= nextWeek;
                const isNotFeatured = !(event.featured === true || event.featured === 'true');
                return isInNextWeek && isNotFeatured;
            });

            // Start with featured events
            this.upcomingEvents = [...featuredEvents];

            // If we have fewer than 10 featured events, add upcoming events to reach 10
            if (this.upcomingEvents.length < 10) {
                const neededEvents = 10 - this.upcomingEvents.length;
                const upcomingToAdd = upcomingEvents.slice(0, neededEvents);
                this.upcomingEvents = [...this.upcomingEvents, ...upcomingToAdd];
            }

            // Sort by date (earliest first), but keep featured events at the top
            this.upcomingEvents.sort((a, b) => {
                const aFeatured = a.featured === true || a.featured === 'true';
                const bFeatured = b.featured === true || b.featured === 'true';
                
                // If both are featured or both are not featured, sort by date
                if (aFeatured === bFeatured) {
                    return new Date(a.date) - new Date(b.date);
                }
                
                // Featured events come first
                return bFeatured ? 1 : -1;
            });

            // Store counts for display
            this.featuredCount = featuredEvents.length;
            this.includedUpcoming = this.upcomingEvents.length - featuredEvents.length;
        },

        renderEvents: function() {
            const container = document.getElementById('uel-events-list');
            const summary = document.getElementById('uel-week-summary');
            const countElement = document.getElementById('uel-event-count');
            const upcomingNote = document.getElementById('uel-upcoming-note');
            
            if (this.upcomingEvents.length === 0) {
                summary.style.display = 'none';
                container.innerHTML = `
                    <div class="uel-empty-state">
                        <h3>No Featured Events</h3>
                        <p>Featured events will appear here when marked in the admin panel</p>
                    </div>
                `;
                return;
            }

            // Show summary with featured count
            summary.style.display = 'block';
            countElement.textContent = this.featuredCount;

            // Show note if upcoming events were included
            if (this.includedUpcoming > 0) {
                upcomingNote.style.display = 'inline';
                upcomingNote.textContent = `(+ ${this.includedUpcoming} upcoming events to reach 10)`;
            } else {
                upcomingNote.style.display = 'none';
            }

            // Render events
            container.innerHTML = this.upcomingEvents.map(event => this.createEventItem(event)).join('');
        },

        createEventItem: function(event) {
            const eventDate = new Date(event.date);
            const today = new Date();
            const isToday = eventDate.toDateString() === today.toDateString();
            const isFeatured = event.featured === true || event.featured === 'true';

            const formattedDate = eventDate.toLocaleDateString('en-US', { 
                weekday: 'long',
                month: 'long', 
                day: 'numeric'
            });

            const doorsTime = event.doorsOpen ? this.formatTime(event.doorsOpen) : null;
            const showTime = event.eventStart ? this.formatTime(event.eventStart) : 'TBA';

            let badgeHTML = '';
            let cardClass = '';
            
            if (isToday) {
                badgeHTML = '<div class="uel-today-badge">Today</div>';
                cardClass = 'today';
            } else if (isFeatured) {
                badgeHTML = '<div class="uel-featured-badge">Featured</div>';
                cardClass = 'featured';
            } else {
                // This is an upcoming event added to fill the quota
                badgeHTML = '<div class="uel-upcoming-badge">Upcoming</div>';
            }

            return `
                <div class="uel-event-item ${cardClass}">
                    ${badgeHTML}
                    <div class="uel-event-header">
                        <div class="uel-event-info">
                            <h3 class="uel-event-title">${event.title}</h3>
                            <div class="uel-event-date-time">
                                <div class="uel-event-date">${formattedDate}</div>
                                <div class="uel-event-times">
                                    ${doorsTime ? `
                                        <div class="uel-time-item">
                                            <span class="uel-time-label">Doors:</span>
                                            <span class="uel-time-value">${doorsTime}</span>
                                        </div>
                                    ` : ''}
                                    <div class="uel-time-item">
                                        <span class="uel-time-label">Show:</span>
                                        <span class="uel-time-value">${showTime}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="uel-event-details">
                        <div class="uel-event-meta">
                            <div class="uel-event-description">${event.description}</div>
                            ${event.location ? `
                                <div class="uel-event-location">
                                    📍 ${event.location}
                                </div>
                            ` : ''}
                        </div>
                        <a href="${event.ticketUrl || '#'}" target="_blank" class="uel-ticket-button">
                            Get Tickets
                        </a>
                    </div>
                </div>
            `;
        },

        formatTime: function(time24) {
            if (!time24) return 'TBA';
            try {
                const [hours, minutes] = time24.split(':');
                const hour12 = ((parseInt(hours) + 11) % 12 + 1);
                const ampm = parseInt(hours) >= 12 ? 'PM' : 'AM';
                return `${hour12}:${minutes} ${ampm}`;
            } catch {
                return time24;
            }
        },

        refreshEvents: function() {
            this.loadEventsData();
            this.renderEvents();
        },

        startAutoRefresh: function() {
            // Refresh every 5 minutes
            setInterval(() => {
                this.loadEventsData();
                this.renderEvents();
            }, 300000);

            // Refresh when page becomes visible
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden) {
                    this.refreshEvents();
                }
            });
        }
    };

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => UEL.init());
    } else {
        UEL.init();
    }

    // Make UEL globally available
    window.UEL = UEL;
})();
</script>
</section>

<section data-bs-version="5.1" class="footer3 cid-uXsOfwpKSB" once="footers" id="footer03-1">

        

    

    <div class="container">
        <div class="row">
            <div class="row-links">
                <ul class="header-menu">
                  
                  
                  
                  
                <li class="header-menu-item mbr-fonts-style display-5">
                    <a href="#" class="text-white">Home</a>
                  </li><li class="header-menu-item mbr-fonts-style display-5">
                    <a href="#" class="text-white">Shows</a>
                  </li><li class="header-menu-item mbr-fonts-style display-5">
                    <a href="#" class="text-white">About</a>
                  </li><li class="header-menu-item mbr-fonts-style display-5"></li></ul>
              </div>

            <div class="col-12 mt-4">
                <div class="social-row">
                    <div class="soc-item">
                        <a href="https://mobiri.se/" target="_blank">
                            <span class="mbr-iconfont socicon socicon-facebook display-7"></span>
                        </a>
                    </div>
                    <div class="soc-item">
                        <a href="https://mobiri.se/" target="_blank">
                            <span class="mbr-iconfont socicon-twitter socicon"></span>
                        </a>
                    </div>
                    <div class="soc-item">
                        <a href="https://mobiri.se/" target="_blank">
                            <span class="mbr-iconfont socicon-instagram socicon"></span>
                        </a>
                    </div>
                    <div class="soc-item">
                        <a href="https://mobiri.se/" target="_blank">
                            <span class="mbr-iconfont socicon socicon-linkedin"></span>
                        </a>
                    </div>
                    <div class="soc-item">
                        <a href="https://mobiri.se/" target="_blank">
                            <span class="mbr-iconfont socicon socicon-twitch"></span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-12 mt-5">
                <p class="mbr-fonts-style copyright display-7">© 2025 Misfits Comedy. All rights reserved.</p>
            </div>
        </div>
    </div>
</section><section class="display-7" style="padding: 0;align-items: center;justify-content: center;flex-wrap: wrap;    align-content: center;display: flex;position: relative;height: 4rem;"><a href="https://mobiri.se/" style="flex: 1 1;height: 4rem;position: absolute;width: 100%;z-index: 1;"><img alt="" style="height: 4rem;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="></a><p style="margin: 0;text-align: center;" class="display-7">&#8204;</p><a style="z-index:1" href="https://mobirise.com/builder/ai-website-creator.html">Best AI Website Creator</a></section><script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>  <script src="assets/smoothscroll/smooth-scroll.js"></script>  <script src="assets/ytplayer/index.js"></script>  <script src="assets/dropdown/js/navbar-dropdown.js"></script>  <script src="assets/theme/js/script.js"></script>  
  
  
</body>
</html>